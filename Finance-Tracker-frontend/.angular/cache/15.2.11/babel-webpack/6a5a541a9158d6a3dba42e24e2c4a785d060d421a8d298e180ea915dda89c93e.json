{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport DataTable from 'datatables.net-dt';\nimport Swal from 'sweetalert2';\nlet CategoryListComponent = class CategoryListComponent {\n  constructor(categoryService, spinner) {\n    this.categoryService = categoryService;\n    this.spinner = spinner;\n  }\n  ngOnInit() {\n    this.spinner.show();\n    this.loadCategories();\n  }\n  loadCategories() {\n    this.categoryService.listCategories().subscribe({\n      next: res => {\n        this.categories = res;\n      },\n      error: errorData => {\n        Swal.fire({\n          title: \"Error\",\n          text: \"Hubo un problema al cargar la lista de categorías\",\n          icon: \"success\",\n          confirmButtonColor: '#007B3E'\n        });\n        this.creteDatatable();\n      },\n      complete: () => {\n        this.creteDatatable();\n        this.spinner.hide();\n      }\n    });\n  }\n  creteDatatable() {\n    setTimeout(() => {\n      if (this.table) {\n        this.table.destroy();\n      }\n      this.table = new DataTable(\"#table_categories\", {\n        language: {\n          url: '/assets/es-ES.json'\n        },\n        columnDefs: [{\n          targets: \"_all\",\n          className: 'dt-center'\n        }],\n        paging: true,\n        pagingType: 'simple',\n        layout: {\n          topStart: 'search',\n          topEnd: 'pageLength',\n          bottomStart: 'paging',\n          bottomEnd: 'info'\n        }\n      });\n    }, 1);\n  }\n};\nCategoryListComponent = __decorate([Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.css']\n})], CategoryListComponent);\nexport { CategoryListComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,OAAOC,SAAS,MAAM,mBAAmB;AAIzC,OAAOC,IAAI,MAAM,aAAa;AAOvB,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAGhCC,YAAoBC,eAAgC,EAAUC,OAAyB;IAAnE,oBAAe,GAAfD,eAAe;IAA2B,YAAO,GAAPC,OAAO;EAErE;EAEAC,QAAQ;IACN,IAAI,CAACD,OAAO,CAACE,IAAI,EAAE;IACnB,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACJ,eAAe,CAACK,cAAc,EAAE,CAACC,SAAS,CAAC;MAC9CC,IAAI,EAAEC,GAAG,IAAG;QACV,IAAI,CAACC,UAAU,GAACD,GAAG;MACrB,CAAC;MACDE,KAAK,EAAEC,SAAS,IAAG;QACjBd,IAAI,CAACe,IAAI,CAAC;UACRC,KAAK,EAAE,OAAO;UACdC,IAAI,EAAE,mDAAmD;UACzDC,IAAI,EAAE,SAAS;UACfC,kBAAkB,EAAE;SACrB,CAAC;QACF,IAAI,CAACC,cAAc,EAAE;MACvB,CAAC;MACDC,QAAQ,EAAC,MAAI;QACX,IAAI,CAACD,cAAc,EAAE;QACrB,IAAI,CAAChB,OAAO,CAACkB,IAAI,EAAE;MAErB;KACD,CAAC;EACJ;EAEAF,cAAc;IACZG,UAAU,CAAC,MAAK;MACd,IAAG,IAAI,CAACC,KAAK,EAAC;QACZ,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;;MAEtB,IAAI,CAACD,KAAK,GAAG,IAAIzB,SAAS,CAAC,mBAAmB,EAAC;QAC7C2B,QAAQ,EAAE;UACRC,GAAG,EAAE;SACN;QACDC,UAAU,EAAE,CACV;UACEC,OAAO,EAAE,MAAM;UACfC,SAAS,EAAE;SACZ,CACF;QACDC,MAAM,EAAE,IAAI;QACZC,UAAU,EAAE,QAAQ;QACpBC,MAAM,EAAC;UACLC,QAAQ,EAAE,QAAQ;UAClBC,MAAM,EAAE,YAAY;UACpBC,WAAW,EAAE,QAAQ;UACrBC,SAAS,EAAE;;OAEd,CAAC;IACJ,CAAC,EAAE,CAAC,CAAC;EACP;CACD;AA5DYpC,qBAAqB,eALjCH,SAAS,CAAC;EACTwC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,GACWvC,qBAAqB,CA4DjC;SA5DYA,qBAAqB","names":["Component","DataTable","Swal","CategoryListComponent","constructor","categoryService","spinner","ngOnInit","show","loadCategories","listCategories","subscribe","next","res","categories","error","errorData","fire","title","text","icon","confirmButtonColor","creteDatatable","complete","hide","setTimeout","table","destroy","language","url","columnDefs","targets","className","paging","pagingType","layout","topStart","topEnd","bottomStart","bottomEnd","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Documentos\\Desarrollo\\pruebas\\Finance Tracker\\Finance-Tracker-frontend\\src\\app\\admin\\components\\category-list\\category-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport DataTable from 'datatables.net-dt';\nimport { category } from '../../models/category';\nimport { CategoryoService } from '../../services/category.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.css']\n})\nexport class CategoryListComponent implements OnInit{\n  table:any;\n  categories:category[];\n  constructor(private categoryService:CategoryoService, private spinner:NgxSpinnerService){\n\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.loadCategories();\n  }\n\n  loadCategories(){\n    this.categoryService.listCategories().subscribe({\n      next:(res)=>{\n        this.categories=res;\n      },\n      error:(errorData)=>{\n        Swal.fire({\n          title: \"Error\",\n          text: \"Hubo un problema al cargar la lista de categorías\",\n          icon: \"success\",\n          confirmButtonColor: '#007B3E'\n        });\n        this.creteDatatable();\n      },\n      complete:()=>{\n        this.creteDatatable()\n        this.spinner.hide();\n\n      }\n    });\n  }\n\n  creteDatatable() {\n    setTimeout(() => {\n      if(this.table){\n        this.table.destroy();\n      }\n      this.table = new DataTable(\"#table_categories\",{\n        language: {\n          url: '/assets/es-ES.json',\n        },\n        columnDefs: [\n          {\n            targets: \"_all\",\n            className: 'dt-center'\n          }\n        ],\n        paging: true,\n        pagingType: 'simple',\n        layout:{\n          topStart: 'search',\n          topEnd: 'pageLength',\n          bottomStart: 'paging',\n          bottomEnd: 'info'\n        },\n      });\n    }, 1);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}