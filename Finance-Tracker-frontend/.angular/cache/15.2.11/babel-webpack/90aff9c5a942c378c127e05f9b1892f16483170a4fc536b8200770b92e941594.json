{"ast":null,"code":"import { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AutenticacionService {\n  constructor(htpp) {\n    this.htpp = htpp;\n  }\n  login(creds) {\n    return this.htpp.post(`http://localhost:8080/crearproyecto`, creds, {\n      observe: 'response'\n    }).pipe(map(response => {\n      const body = response.body;\n      const headers = response.headers;\n      const bearerToken = headers.get('Authorization');\n      const token = bearerToken.replace('token', '');\n      localStorage.setItem('token', token);\n    }));\n  }\n  static #_ = this.ɵfac = function AutenticacionService_Factory(t) {\n    return new (t || AutenticacionService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AutenticacionService,\n    factory: AutenticacionService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"mappings":"AAEA,SAASA,GAAG,QAAQ,MAAM;;;AAK1B,OAAM,MAAOC,oBAAoB;EAC/BC,YAAoBC,IAAe;IAAf,SAAI,GAAJA,IAAI;EAExB;EAEAC,KAAK,CAACC,KAAU;IACd,OAAO,IAAI,CAACF,IAAI,CAACG,IAAI,CAAC,qCAAqC,EAAED,KAAK,EAAE;MAClEE,OAAO,EAAC;KACT,CAAC,CAACC,IAAI,CAACR,GAAG,CAAES,QAA2B,IAAG;MACzC,MAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAI;MAC1B,MAAMC,OAAO,GAAGF,QAAQ,CAACE,OAAO;MAEhC,MAAMC,WAAW,GAAED,OAAO,CAACE,GAAG,CAAC,eAAe,CAAE;MAChD,MAAMC,KAAK,GAAGF,WAAW,CAACG,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;MAE9CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;IACtC,CAAC,CAAC,CAAC;EACL;EAAC;qBAjBUb,oBAAoB;EAAA;EAAA;WAApBA,oBAAoB;IAAAiB,SAApBjB,oBAAoB;IAAAkB,YAFnB;EAAM","names":["map","AutenticacionService","constructor","htpp","login","creds","post","observe","pipe","response","body","headers","bearerToken","get","token","replace","localStorage","setItem","factory","providedIn"],"sourceRoot":"","sources":["D:\\Documentos\\Desarrollo\\proyectos\\Proyectos funcionales\\Angular\\CRUD\\crud-frontend\\src\\app\\shared\\services\\autenticacion.service.ts"],"sourcesContent":["import { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { map } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AutenticacionService {\n  constructor(private htpp:HttpClient) { \n    \n  }\n\n  login(creds: any){\n    return this.htpp.post(`http://localhost:8080/crearproyecto`, creds, {\n      observe:'response'\n    }).pipe(map((response: HttpResponse<any>)=>{\n      const body = response.body\n      const headers = response.headers;\n\n      const bearerToken= headers.get('Authorization')!;\n      const token = bearerToken.replace('token', '');\n\n      localStorage.setItem('token', token);\n    }));\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}