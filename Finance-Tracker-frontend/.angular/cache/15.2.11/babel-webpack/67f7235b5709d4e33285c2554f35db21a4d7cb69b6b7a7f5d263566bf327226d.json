{"ast":null,"code":"import DataTable from 'datatables.net-dt';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/category.service\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/common\";\nfunction CategoryListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r1.description);\n  }\n}\nexport class CategoryListComponent {\n  constructor(categoryService, spinner) {\n    this.categoryService = categoryService;\n    this.spinner = spinner;\n  }\n  ngOnInit() {\n    this.spinner.show();\n    this.loadCategories();\n  }\n  loadCategories() {\n    this.categoryService.listCategories().subscribe({\n      next: res => {\n        this.categories = res;\n      },\n      error: errorData => {\n        Swal.fire({\n          title: \"Error\",\n          text: \"Hubo un problema al cargar la lista de categorías\",\n          icon: \"success\",\n          confirmButtonColor: '#007B3E'\n        });\n        this.creteDatatable();\n      },\n      complete: () => {\n        this.creteDatatable();\n        this.spinner.hide();\n      }\n    });\n  }\n  creteDatatable() {\n    setTimeout(() => {\n      if (this.table) {\n        this.table.destroy();\n      }\n      this.table = new DataTable(\"#table_categories\", {\n        language: {\n          url: '/assets/es-ES.json'\n        },\n        columnDefs: [{\n          targets: \"_all\",\n          className: 'dt-center'\n        }],\n        paging: true,\n        pagingType: 'simple',\n        layout: {\n          topStart: 'search',\n          topEnd: 'pageLength',\n          bottomStart: 'paging',\n          bottomEnd: 'info'\n        }\n      });\n    }, 1);\n  }\n  static #_ = this.ɵfac = function CategoryListComponent_Factory(t) {\n    return new (t || CategoryListComponent)(i0.ɵɵdirectiveInject(i1.CategoryoService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CategoryListComponent,\n    selectors: [[\"app-category-list\"]],\n    decls: 17,\n    vars: 1,\n    consts: [[1, \"spinner\"], [\"bdColor\", \"rgba(0, 0, 0, 0)\", \"template\", \"<img src='/assets/spinner.gif'/>\"], [1, \"titulo\"], [1, \"titulo_texto\", \"text-center\"], [1, \"container__table\"], [\"id\", \"table_categories\", 1, \"table\", \"cell-border\", \"table-striped\", \"hover\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function CategoryListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"ngx-spinner\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"Lista de categor\\u00EDas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"table\", 5)(7, \"thead\")(8, \"tr\")(9, \"th\");\n        i0.ɵɵtext(10, \"Categor\\u00EDa N\\u00B0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\");\n        i0.ɵɵtext(14, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"tbody\");\n        i0.ɵɵtemplate(16, CategoryListComponent_tr_16_Template, 7, 3, \"tr\", 6);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.NgxSpinnerComponent],\n    styles: [\".titulo[_ngcontent-%COMP%]{\\r\\n    height: 70px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    padding: 0px 1rem;\\r\\n}\\r\\n\\r\\n.container__table[_ngcontent-%COMP%]{\\r\\n    padding: 8px 25px;\\r\\n    border-radius: 10px;\\r\\n    border: #666666 solid .5px;\\r\\n}\\r\\n\\r\\n.titulo--verde[_ngcontent-%COMP%]{\\r\\n    background-color: #37a7a1;\\r\\n}\\r\\n\\r\\n.back[_ngcontent-%COMP%]{\\r\\n    background-color: #37a7a1;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vY29tcG9uZW50cy9jYXRlZ29yeS1saXN0L2NhdGVnb3J5LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi50aXR1bG97XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMHB4IDFyZW07XHJcbn1cclxuXHJcbi5jb250YWluZXJfX3RhYmxle1xyXG4gICAgcGFkZGluZzogOHB4IDI1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAjNjY2NjY2IHNvbGlkIC41cHg7XHJcbn1cclxuXHJcbi50aXR1bG8tLXZlcmRle1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM3YTdhMTtcclxufVxyXG5cclxuLmJhY2t7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzdhN2ExO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,OAAOA,SAAS,MAAM,mBAAmB;AAIzC,OAAOC,IAAI,MAAM,aAAa;;;;;;;ICkBtBC,0BAAwC;IAChCA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAAwB;IAAAA,iBAAK;;;;IAF7BA,eAAe;IAAfA,oCAAe;IACfA,eAAiB;IAAjBA,sCAAiB;IACjBA,eAAwB;IAAxBA,6CAAwB;;;ADdxC,OAAM,MAAOC,qBAAqB;EAGhCC,YAAoBC,eAAgC,EAAUC,OAAyB;IAAnE,oBAAe,GAAfD,eAAe;IAA2B,YAAO,GAAPC,OAAO;EAErE;EAEAC,QAAQ;IACN,IAAI,CAACD,OAAO,CAACE,IAAI,EAAE;IACnB,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACJ,eAAe,CAACK,cAAc,EAAE,CAACC,SAAS,CAAC;MAC9CC,IAAI,EAAEC,GAAG,IAAG;QACV,IAAI,CAACC,UAAU,GAACD,GAAG;MACrB,CAAC;MACDE,KAAK,EAAEC,SAAS,IAAG;QACjBf,IAAI,CAACgB,IAAI,CAAC;UACRC,KAAK,EAAE,OAAO;UACdC,IAAI,EAAE,mDAAmD;UACzDC,IAAI,EAAE,SAAS;UACfC,kBAAkB,EAAE;SACrB,CAAC;QACF,IAAI,CAACC,cAAc,EAAE;MACvB,CAAC;MACDC,QAAQ,EAAC,MAAI;QACX,IAAI,CAACD,cAAc,EAAE;QACrB,IAAI,CAAChB,OAAO,CAACkB,IAAI,EAAE;MAErB;KACD,CAAC;EACJ;EAEAF,cAAc;IACZG,UAAU,CAAC,MAAK;MACd,IAAG,IAAI,CAACC,KAAK,EAAC;QACZ,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;;MAEtB,IAAI,CAACD,KAAK,GAAG,IAAI1B,SAAS,CAAC,mBAAmB,EAAC;QAC7C4B,QAAQ,EAAE;UACRC,GAAG,EAAE;SACN;QACDC,UAAU,EAAE,CACV;UACEC,OAAO,EAAE,MAAM;UACfC,SAAS,EAAE;SACZ,CACF;QACDC,MAAM,EAAE,IAAI;QACZC,UAAU,EAAE,QAAQ;QACpBC,MAAM,EAAC;UACLC,QAAQ,EAAE,QAAQ;UAClBC,MAAM,EAAE,YAAY;UACpBC,WAAW,EAAE,QAAQ;UACrBC,SAAS,EAAE;;OAEd,CAAC;IACJ,CAAC,EAAE,CAAC,CAAC;EACP;EAAC;qBA3DUpC,qBAAqB;EAAA;EAAA;UAArBA,qBAAqB;IAAAqC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCZlC1C,8BAAqB;QACjBA,iCAGe;QACnBA,iBAAM;QAENA,8BAAoB;QACiBA,wCAAmB;QAAAA,iBAAK;QAG7DA,8BAA8B;QAMdA,uCAAY;QAAAA,iBAAK;QACrBA,2BAAI;QAAAA,uBAAM;QAAAA,iBAAK;QACfA,2BAAI;QAAAA,iCAAW;QAAAA,iBAAK;QAG5BA,8BAAO;QACHA,sEAIK;QACTA,iBAAQ;;;QALqBA,gBAAa;QAAbA,wCAAa","names":["DataTable","Swal","i0","CategoryListComponent","constructor","categoryService","spinner","ngOnInit","show","loadCategories","listCategories","subscribe","next","res","categories","error","errorData","fire","title","text","icon","confirmButtonColor","creteDatatable","complete","hide","setTimeout","table","destroy","language","url","columnDefs","targets","className","paging","pagingType","layout","topStart","topEnd","bottomStart","bottomEnd","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Documentos\\Desarrollo\\pruebas\\Finance Tracker\\Finance-Tracker-frontend\\src\\app\\admin\\components\\category-list\\category-list.component.ts","D:\\Documentos\\Desarrollo\\pruebas\\Finance Tracker\\Finance-Tracker-frontend\\src\\app\\admin\\components\\category-list\\category-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport DataTable from 'datatables.net-dt';\nimport { category } from '../../models/category';\nimport { CategoryoService } from '../../services/category.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.css']\n})\nexport class CategoryListComponent implements OnInit{\n  table:any;\n  categories:category[];\n  constructor(private categoryService:CategoryoService, private spinner:NgxSpinnerService){\n\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.loadCategories();\n  }\n\n  loadCategories(){\n    this.categoryService.listCategories().subscribe({\n      next:(res)=>{\n        this.categories=res;\n      },\n      error:(errorData)=>{\n        Swal.fire({\n          title: \"Error\",\n          text: \"Hubo un problema al cargar la lista de categorías\",\n          icon: \"success\",\n          confirmButtonColor: '#007B3E'\n        });\n        this.creteDatatable();\n      },\n      complete:()=>{\n        this.creteDatatable()\n        this.spinner.hide();\n\n      }\n    });\n  }\n\n  creteDatatable() {\n    setTimeout(() => {\n      if(this.table){\n        this.table.destroy();\n      }\n      this.table = new DataTable(\"#table_categories\",{\n        language: {\n          url: '/assets/es-ES.json',\n        },\n        columnDefs: [\n          {\n            targets: \"_all\",\n            className: 'dt-center'\n          }\n        ],\n        paging: true,\n        pagingType: 'simple',\n        layout:{\n          topStart: 'search',\n          topEnd: 'pageLength',\n          bottomStart: 'paging',\n          bottomEnd: 'info'\n        },\n      });\n    }, 1);\n  }\n}\n","<div class=\"spinner\">\n    <ngx-spinner\n    bdColor=\"rgba(0, 0, 0, 0)\"\n    template=\"<img src='/assets/spinner.gif'/>\"\n    ></ngx-spinner>\n</div>\n\n<div class=\"titulo\">\n<h2 class=\"titulo_texto text-center\">Lista de categorías</h2>\n</div>\n\n<div class=\"container__table\">\n<table id=\"table_categories\" class=\"table cell-border table-striped hover\">\n    <thead>\n        \n        <tr>\n            \n            <th>Categoría N°</th>\n            <th>Nombre</th>\n            <th>Descripción</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let category of categories\">\n            <td>{{category.id}}</td>\n            <td>{{category.name}}</td>\n            <td>{{category.description}}</td>\n        </tr>\n    </tbody>\n</table>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}